@{
	Layout = "_DashboardLayout";
	ViewData["Title"] = "Uitje";
	ViewData["Page"] = "Uitje";
}

@model TALPA.Models.ActivityViewModel

<h1 class="mb-3">Huidig uitje</h1>

@if (Model.ActivityPlanned)
{
	<div class="card h-100">
		<div class="card-header">
			<div class="d-md-flex align-items-center justify-content-between">
				<div>
					<a class="text-btn" target="_blank" href="https://maps.google.com/?q=@Model.ActivityLocation">@Model.ActivityLocation</a>
					<br />
					<p class="mb-md-0">@Model.ActivityStartDate tot @Model.ActivityEndDate</p>
				</div>
				<a class="btn" target="_blank" href="https://calendar.google.com/calendar/u/0/r/eventedit?text=Bedrijfs+uitje:+@System.Web.HttpUtility.UrlEncode(Model.ActivityName)&dates=@DateTime.ParseExact(Model.ActivityStartDate, "dd-MM-yyyy HH:mm", System.Globalization.CultureInfo.InvariantCulture).ToString("yyyyMMddTHHmmss")/@DateTime.ParseExact(Model.ActivityEndDate, "dd-MM-yyyy HH:mm", System.Globalization.CultureInfo.InvariantCulture).ToString("yyyyMMddTHHmmss")&location=@System.Web.HttpUtility.UrlEncode(Model.ActivityLocation)&details=@System.Web.HttpUtility.UrlEncode(Model.ActivityDescription)%0A%0ATeam:+@System.Web.HttpUtility.UrlEncode(ViewBag.Employee.Team)%0ALocatie:+@System.Web.HttpUtility.UrlEncode(Model.ActivityLocation)&location=@System.Web.HttpUtility.UrlEncode(Model.ActivityLocation)">
					Toevoegen aan agenda
				</a>
			</div>
		</div>
		<div class="card-body">
			<h5 class="card-title overflow-hidden mb-0">@Model.ActivityName</h5>
			<p class="card-text">@Model.ActivityDescription</p>
			<p class="mb-0">Categorie: @string.Join(", ", Model.ActivityCategories)</p>
			<p class="mb-0">Beperkingen: @string.Join(", ", Model.ActivityLimitation)</p>
		</div>
	</div>
} 
else
{
	<p class="text-center">Op dit moment zijn er geen uitjes gepland.</p>
}

<div id="datepicker" class="d-flex justify-content-center text-center" name="dates"></div>